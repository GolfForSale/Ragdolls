---
interface Props {
  subject?: string;
}

const { subject = '' } = Astro.props;
---

<form 
  name="contact" 
  method="POST" 
  data-netlify="true"
  netlify-honeypot="bot-field"
  class="space-y-6"
>
  <input type="hidden" name="form-name" value="contact" />
  
  <!-- Honeypot field for spam protection -->
  <p class="hidden">
    <label>
      Don't fill this out: <input name="bot-field" />
    </label>
  </p>
  
  <div class="grid md:grid-cols-2 gap-6">
    <div>
      <label for="name" class="block text-sm font-medium text-lavender-700 mb-2">
        Imię i nazwisko *
      </label>
      <input 
        type="text" 
        id="name" 
        name="name" 
        required
        class="w-full px-4 py-3 rounded-xl border border-lavender-300 focus:border-rose-gold focus:ring-2 focus:ring-rose-gold/20 outline-none transition-all bg-white"
        placeholder="Jan Kowalski"
      />
    </div>
    
    <div>
      <label for="email" class="block text-sm font-medium text-lavender-700 mb-2">
        Adres e-mail *
      </label>
      <input 
        type="email" 
        id="email" 
        name="email" 
        required
        class="w-full px-4 py-3 rounded-xl border border-lavender-300 focus:border-rose-gold focus:ring-2 focus:ring-rose-gold/20 outline-none transition-all bg-white"
        placeholder="jan@example.com"
      />
    </div>
  </div>
  
  <div>
    <label for="phone" class="block text-sm font-medium text-lavender-700 mb-2">
      Telefon (opcjonalnie)
    </label>
    <input 
      type="tel" 
      id="phone" 
      name="phone"
      class="w-full px-4 py-3 rounded-xl border border-lavender-300 focus:border-rose-gold focus:ring-2 focus:ring-rose-gold/20 outline-none transition-all bg-white"
      placeholder="+48 123 456 789"
    />
  </div>
  
  <div>
    <label for="subject" class="block text-sm font-medium text-lavender-700 mb-2">
      Temat *
    </label>
    <select 
      id="subject" 
      name="subject" 
      required
      class="w-full px-4 py-3 rounded-xl border border-lavender-300 focus:border-rose-gold focus:ring-2 focus:ring-rose-gold/20 outline-none transition-all bg-white"
    >
      <option value="" disabled selected={!subject}>Wybierz temat...</option>
      <option value="reservation" selected={subject === 'reservation'}>Rezerwacja kociaka</option>
      <option value="question" selected={subject === 'question'}>Pytanie o rasę</option>
      <option value="visit" selected={subject === 'visit'}>Umówienie wizyty</option>
      <option value="other" selected={subject === 'other'}>Inny temat</option>
    </select>
  </div>
  
  <div>
    <label for="message" class="block text-sm font-medium text-lavender-700 mb-2">
      Wiadomość *
    </label>
    <textarea 
      id="message" 
      name="message" 
      required
      rows="5"
      class="w-full px-4 py-3 rounded-xl border border-lavender-300 focus:border-rose-gold focus:ring-2 focus:ring-rose-gold/20 outline-none transition-all bg-white resize-none"
      placeholder="Napisz swoją wiadomość..."
    ></textarea>
  </div>
  
  <div class="flex items-start gap-3">
    <input 
      type="checkbox" 
      id="privacy" 
      name="privacy" 
      required
      class="mt-1 w-4 h-4 rounded border-lavender-300 text-rose-gold focus:ring-rose-gold"
    />
    <label for="privacy" class="text-sm text-lavender-600">
      Wyrażam zgodę na przetwarzanie moich danych osobowych w celu odpowiedzi na zapytanie. *
    </label>
  </div>
  
  <button 
    type="submit"
    class="btn-primary w-full md:w-auto"
  >
    Wyślij wiadomość
  </button>
</form>
